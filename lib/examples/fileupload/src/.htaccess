RewriteEngine on

RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^.*[^/]$ /$0/ [L,R=301]

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_URI} !^index\.php$
RewriteRule ^.*$ index.php?route=$0 [L,QSA]

RewriteCond %{REQUEST_FILENAME} -f
RewriteCond %{REQUEST_URI} !^index\.php$
RewriteRule ^(.*)[.]php$ index.php?route=$0 [L,QSA]

Order Deny,Allow
<FilesMatch "\.(log|data)$">
    Deny from all
</FilesMatch>
Allow from all
